(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e32b1f48"],{baa5:function(e,t,n){var o=n("23e7"),i=n("e58c");o({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},be27:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("h3",[e._v("Given-When Scenario with MindMap")]),n("center",[n("button",{on:{click:e.zoomIn}},[e._v("Zoon In")]),e._v(" "),n("button",{on:{click:e.zoomOut}},[e._v("Zoom Out")])]),n("js-mind",{ref:"jsMind",attrs:{values:e.mind,options:e.options,width:"200px",height:"400px"}}),n("br"),n("center",[n("a",{on:{"~click":function(t){return e.getResult(t)}}},[n("b",[e._v("Get Result")])]),e._v(" | "),n("label",{attrs:{for:"import"}},[n("b",[e._v("Import map")])]),e._v(" | "),n("a",{on:{"~click":function(t){return e.saveLocalFile(t)}}},[n("b",[e._v("Export map")])]),n("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file",accept:"text/plane",id:"import"},on:{change:e.openLocalFile}})])],1)},i=[],s=(n("baa5"),n("b0c0"),n("ac1f"),n("5319"),n("bc3a")),a=n.n(s),d={data:function(){return{theme_value:"",mind:{meta:{name:"analyzingcontext.com",author:"cheuora@gmail.com",version:"0.2"},format:"node_array",data:[{id:"root",isroot:!0,topic:"Main"},{id:"when",parentid:"root",topic:"When",direction:"left"},{id:"given",parentid:"root",topic:"Given",direction:"right"}]},options:{},shortCutVal:"",keyCode:""}},mounted:function(){var e=this.$store.state.mapData;this.jm=this.$refs.jsMind.jm,this.jm.enable_edit();var t=this;if("none"!=e){var n=jsMind.util.json.string2json(e);t.mind=n,t.jm.show(n)}},methods:{getResult:function(){var e=this.jm.get_data("node_array"),t=this.jm.get_data("node_tree"),n=jsMind.util.json.json2string(e.data),o=jsMind.util.json.json2string(t.data),i=this.$router,s=window.location.origin,d=s.replace(":8080","");this.$store.state.mapData=jsMind.util.json.json2string(t),a()({method:"post",url:d+":5000/mindmap",data:{mindMapData:n,mindTreeData:o}}).then((function(e){console.log(e),i.push({name:"mindmapresult",params:{tabledata:e.data}})})).catch((function(e){i.push({name:"errorpage",params:{errormsg:e}})}))},addNode:function(){var e=this.jm.get_selected_node();if(e){var t=jsMind.util.uuid.newid(),n="new Node";this.jm.add_node(e,t,n)}else alert("please select a node first.")},onMoveUp:function(){var e=this.jm.get_selected_node();e?this.jm.move_node(e,"_first_"):alert("please select a node first.")},onMoveDown:function(){var e=this.jm.get_selected_node();e?this.jm.move_node(e,"_last_"):alert("please select a node first.")},onRemoveNode:function(){var e=this.get_selected_nodeid();console.log(e),e?this.jm.remove_node(e):alert("please select a node first.")},addImageNode:function(){var e=document.getElementById("image-chooser"),t=this;e.addEventListener("change",(function(n){var o=new FileReader;o.onloadend=function(){var e=t.jm.get_selected_node(),n=jsMind.util.uuid.newid(),i=void 0,s={"background-image":o.result,width:"100",height:"100"};t.jm.add_node(e,n,i,s)};var i=e.files[0];i&&o.readAsDataURL(i)}),!1);var n=this.jm.get_selected_node();n?(e.focus(),e.click()):alert("please select a node first.")},openLocalFile:function(){var e=this.$refs.input,t=e.files,n=this;if(t.length>0){var o=t[0];jsMind.util.file.read(o,(function(e,t){var o=jsMind.util.json.string2json(e);o?(n.mind=o,n.jm.show(o)):alert("can not open this file as mindmap")}))}else alert("please choose a file first")},saveLocalFile:function(){var e=this.jm.get_data(),t=e.meta.name,n=jsMind.util.json.json2string(e);jsMind.util.file.save(n,"text/jsmind",t+".jm")},fontSize:function(){var e=this.get_selected_nodeid();e?this.jm.set_node_font_style(e,28):alert("please select a node first.")},fontColor:function(){var e=this.get_selected_nodeid();e?this.jm.set_node_color(e,null,"#000"):alert("please select a node first.")},bgColor:function(){var e=this.get_selected_nodeid();e?this.jm.set_node_color(e,"#eee",null):alert("please select a node first.")},bgImage:function(){var e=this.get_selected_nodeid();e?this.jm.set_node_background_image(e,"ant.png",100,100):alert("please select a node first.")},set_theme:function(){this.jm.set_theme(this.theme_value)},zoomOut:function(){this.jm.view.zoomOut()?this.$refs.zoomOut.disabled=!1:this.$refs.zoomOut.disabled=!0},zoomIn:function(){this.jm.view.zoomIn()?this.$refs.zoomIn.disabled=!1:this.$refs.zoomIn.disabled=!0},screenshot:function(){this.jm.screenshot.shootDownload()},get_selected_nodeid:function(){var e=this.jm.get_selected_node();return e?e.id:null},changeOption:function(){this.options={mode:"side"}},shortcutSet:function(e){if("Backspace"===e.key||"Delete"===e.key)return this.shortCutVal=this.shortCutVal.substring(0,this.shortCutVal.lastIndexOf("+")),void(this.keyCode=this.keyCode.substring(0,this.keyCode.lastIndexOf("+")));this.shortCutVal&&(this.shortCutVal+=" + ",this.keyCode+="+"),this.shortCutVal+=e.key,this.keyCode+=e.keyCode,console.log("keyCode",this.keyCode),this.options={shortcut:{mapping:{addchild:this.keyCode}}}}}},r=d,l=n("2877"),c=Object(l["a"])(r,o,i,!1,null,"478aa606",null);t["default"]=c.exports},e58c:function(e,t,n){"use strict";var o=n("fc6a"),i=n("a691"),s=n("50c4"),a=n("a640"),d=n("ae40"),r=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),u=d("indexOf",{ACCESSORS:!0,1:0}),m=c||!h||!u;e.exports=m?function(e){if(c)return l.apply(this,arguments)||0;var t=o(this),n=s(t.length),a=n-1;for(arguments.length>1&&(a=r(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l}}]);
//# sourceMappingURL=chunk-e32b1f48.334232d1.js.map